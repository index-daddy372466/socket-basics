<script>
  // initiate jquery
  $(document).ready(function () {
    console.log("jquery is ready");
    // list of characters
    let chars = $(".char-btn");
    console.log(chars);
    // iterate through characters array
    chars.each((index, character) => {
      // store image into a variable
      // click event
      let animal = $(character).children()[0].src.split('/')[4].replace(/\.jpeg/,'')
      console.log(animal)
      // post fetch to server
      $(character).click(function () {
        // basic ajax post object
          $.ajax({
            type:'POST',
            url:'/char/icon',
            data:{icon:animal},
            success:(d=>window.location.href = `${location.origin}/home`),
            fail: function(){
              alert('request failed')
            }
          })
        })
      
    });
  });
</script>
